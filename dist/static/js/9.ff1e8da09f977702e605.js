webpackJsonp([9],{w2Hc:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={name:"xfd-scroll-tab",props:{data:[Array],index:{validator:function(t){return/^(([1-9]\d*)|0)$/.test(t)},default:0},callback:{type:Function}},data:function(){return{activeIndex:this.index,currentOffset:0,currentPosition:0,scrolling:!1}},watch:{activeIndex:function(t){},index:function(t){}},methods:{init:function(){this.scrollView=this.$refs.scrollView,this.contentOffsetTop=this.scrollView.getBoundingClientRect().top,this.bindEvent()},bindEvent:function(){this.scrollView.addEventListener("scroll",this.scrollHandler),window.addEventListener("resize",this.scrollHandler)},scrollHandler:function(){var t=this;if(!this.scrolling){var e=this.getPanels(),n=e.length,i=this.scrollView;i.scrollTop>=e[0].$el.offsetHeight*n-i.offsetHeight?this.activeIndex=n-1:e.forEach(function(e,n){e.$el.getBoundingClientRect().top<=i.offsetHeight/2+t.contentOffsetTop&&(t.currentPosition=e.$el.offsetTop,t.activeIndex=n)})}},getPanels:function(){return this.$children.filter(function(t){return"xfd-scrolltab-panel"===t.$options.name})},scrollContent:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.activeIndex=t,this.scrolling=!0;var i=this.getPanels()[t].$el,s=n&&(window.navigator&&window.navigator.userAgent||"").indexOf("MicroMessenger")<0?500:0;!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments[4];window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)});var l=Math.abs(e-n);!function e(n,i,l){if(n!==i){var r=n+l>i?i:n+l;n>i&&(r=n-l<i?i:n-l),t===window?window.scrollTo(r,r):t.scrollTop=r,window.requestAnimationFrame(function(){return e(r,i,l)})}else"function"==typeof s&&s()}(e,n,Math.ceil(l/i*50))}(this.scrollView,this.currentPosition,i.offsetTop,s,function(){e.scrolling=!1}),this.currentPosition=i.offsetTop}},mounted:function(){this.$nextTick(this.init)},destroyed:function(){this.scrollView.removeEventListener("scroll",this.scrollHandler),window.removeEventListener("resize",this.scrollHandler)}},s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"xfd-scrollTab xfd-row-flex"},[n("ul",{staticClass:"xfd-scrollTab-nav"},t._l(t.data,function(e,i){return n("li",{staticClass:"xfd-line-border",class:{active:i==t.activeIndex},on:{click:function(e){e.stopPropagation(),t.scrollContent(i)}}},[t._v("\n                   "+t._s(e.name)+"\n               ")])})),t._v(" "),n("div",{ref:"scrollView",staticClass:"xfd-scrollTab-content xfd-col-1"},[t._t("default")],2)])},staticRenderFns:[]},l=n("VU/8")(i,s,!1,null,null,null).exports,r={name:"xfd-scrolltab-panel",props:{label:[String,Object]},mounted:function(){this.$parent.addItem({label:this.label,_uid:this._uid})}},a={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"xfd-scrollTab-item"},[this._t("default")],2)},staticRenderFns:[]},o={name:"ScrollTabController",data:function(){return{index:0,list:[{id:1,name:"生鲜水果"},{id:2,name:"进口食品"},{id:3,name:"休闲食品"}]}},methods:{},components:{"xfd-scroll-tab":l,"xfd-scrolltab-panel":n("VU/8")(r,a,!1,null,null,null).exports},mounted:function(){}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"xfd-viewpager"},[n("header",{staticClass:"xfd-header xfd-border-b"},[n("div",{directives:[{name:"router",rawName:"v-router",value:{router:this.$router},expression:"{router:this.$router}"}],staticClass:"xfd-header-left"},[n("span",[t._v("返回")])]),t._v(" "),n("h1",[t._v("滚动菜单(ScrollNav))")]),t._v(" "),n("div",{staticClass:"xfd-header-right text-center"})]),t._v(" "),n("section",{staticClass:"xfd-container"},[n("xfd-scroll-tab",{attrs:{data:t.list}},[n("xfd-scrolltab-panel",[n("div",{staticClass:"xfd-panel"},[n("div",{staticClass:"xfd-panel-hd xfd-line-border"},[t._v("\n                        生鲜水果\n                    ")]),t._v(" "),n("div",{staticClass:"xfd-panel-cn"},[n("div",{staticStyle:{"margin-top":".48rem",height:"480px","background-color":"gray"}},[t._v("\n                            空调\n                        ")])])])]),t._v(" "),n("xfd-scrolltab-panel",[n("div",{staticClass:"xfd-panel"},[n("div",{staticClass:"xfd-panel-hd xfd-line-border"},[t._v("\n                        进口食品\n                    ")]),t._v(" "),n("div",{staticClass:"xfd-panel-cn"},[n("div",{staticStyle:{"margin-top":".48rem",height:"480px","background-color":"gray"}},[t._v("\n                            空调\n                        ")])])])]),t._v(" "),n("xfd-scrolltab-panel",[n("div",{staticClass:"xfd-panel"},[n("div",{staticClass:"xfd-panel-hd xfd-line-border"},[t._v("\n                        休闲食品\n                    ")]),t._v(" "),n("div",{staticClass:"xfd-panel-cn"},[n("div",{staticStyle:{"margin-top":".48rem",height:"480px","background-color":"gray"}},[t._v("\n                            空调\n                        ")])])])])],1)],1)])},staticRenderFns:[]},d=n("VU/8")(o,c,!1,null,null,null);e.default=d.exports}});
//# sourceMappingURL=9.ff1e8da09f977702e605.js.map